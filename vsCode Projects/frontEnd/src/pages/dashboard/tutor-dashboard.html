<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutor Dashboard - TutorConnect</title>
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            min-height: 100%;
            position: relative;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            text-align: center;
            background: linear-gradient(0deg, rgba(255,175,0,1) 10%, rgba(92,15,136,1) 76%, rgba(23,0,42,1) 100%);
            color: #ffffff;
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }

        /* Navigation styles */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 70px;
            padding: 0 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #ffffff;
        }

        nav ul {
            padding: 0;
            margin: 0;
            display: flex;
            list-style-type: none;
        }

        nav ul li {
            margin: 0 10px;
        }

        nav ul li a {
            display: block;
            text-decoration: none;
            color: #ffffff;
            font-size: 16px;
            font-weight: bold;
            padding: 10px 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        nav ul li a:hover {
            background-color: #fe7f2d;
            color: #000000;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Main content */
        main {
            padding-top: 100px;
            padding-bottom: 50px;
        }

        /* Dashboard specific styles */
        .dashboard-header {
            text-align: center;
            padding: 20px 0 40px;
        }
        
        .dashboard-tabs {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .tab-buttons {
            display: flex;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 30px;
        }
        
        .tab-btn {
            background: transparent;
            color: #ffffff;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.3s ease;
        }
        
        .tab-btn:hover {
            opacity: 1;
        }
        
        .tab-btn.active {
            opacity: 1;
            border-bottom: 3px solid #fe7f2d;
        }
        
        .tab-pane {
            display: none;
            padding: 20px 0;
        }
        
        .tab-pane.active {
            display: block;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        /* Appointments */
        .appointments-filter {
            display: flex;
            margin-bottom: 20px;
            gap: 10px;
        }
        
        .filter-btn {
            background: rgba(0, 0, 0, 0.3);
            color: #ffffff;
            border: none;
            border-radius: 8px;
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .filter-btn.active {
            background-color: #fe7f2d;
        }
        
        .appointment-card {
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .appointment-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .appointment-subject {
            font-size: 1.2em;
            font-weight: bold;
        }
        
        .appointment-status {
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        .status-pending {
            background-color: #f0ad4e;
            color: #000000;
        }
        
        .status-confirmed {
            background-color: #5bc0de;
            color: #000000;
        }
        
        .status-completed {
            background-color: #5cb85c;
            color: #000000;
        }
        
        .status-canceled {
            background-color: #d9534f;
            color: #ffffff;
        }
        
        .appointment-info {
            display: flex;
            margin-bottom: 15px;
        }
        
        .appointment-student {
            flex: 1;
        }
        
        .appointment-date {
            flex: 1;
            text-align: right;
        }
        
        .appointment-actions {
            display: flex;
            gap: 10px;
        }
        
        /* Messages tab styles */
        .messages-container {
            display: flex;
            height: 500px;
            gap: 20px;
            overflow: hidden;
        }
        
        .conversations-list {
            width: 30%;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 12px;
            overflow-y: auto;
        }
        
        .conversation-items {
            padding: 10px;
        }
        
        .conversation-item {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .conversation-item:hover {
            background-color: rgba(0, 0, 0, 0.3);
        }
        
        .conversation-item.active {
            background-color: rgba(254, 127, 45, 0.3);
        }
        
        .conversation-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .conversation-preview {
            font-size: 0.9em;
            opacity: 0.8;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .message {
            margin-bottom: 15px;
            max-width: 70%;
        }
        
        .message-sent {
            margin-left: auto;
            background-color: #fe7f2d;
            color: #000000;
            border-radius: 12px 12px 0 12px;
            padding: 10px 15px;
        }
        
        .message-received {
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 12px 12px 12px 0;
            padding: 10px 15px;
        }
        
        .message-info {
            font-size: 0.8em;
            margin-top: 5px;
            opacity: 0.7;
        }
        
        .chat-input {
            padding: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .message-form {
            display: flex;
            gap: 10px;
        }
        
        .message-input {
            flex: 1;
            padding: 12px;
            border-radius: 8px;
            border: none;
            background-color: rgba(255, 255, 255, 0.9);
        }
        
        /* Profile & availability */
        .profile-form {
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 12px;
            padding: 30px;
            max-width: 800px;
            margin: 0 auto 30px;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            flex: 1;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: none;
            background-color: rgba(255, 255, 255, 0.9);
        }
        
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .save-button {
            margin-top: 20px;
            width: 100%;
        }
        
        /* Availability calendar */
        .availability-container {
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 12px;
            padding: 30px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .availability-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .calendar-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .calendar-month {
            font-weight: bold;
            font-size: 1.2em;
        }
        
        .calendar-nav {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .calendar-nav:hover {
            background: rgba(254, 127, 45, 0.5);
        }
        
        .calendar {
            width: 100%;
            border-collapse: collapse;
        }
        
        .calendar th {
            padding: 10px;
            text-align: center;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .calendar td {
            padding: 5px;
            text-align: center;
            height: 40px;
            vertical-align: middle;
        }
        
        .calendar .day {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .calendar .day:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .calendar .day.available {
            background-color: rgba(92, 184, 92, 0.3);
        }
        
        .calendar .day.unavailable {
            color: rgba(255, 255, 255, 0.3);
        }
        
        .calendar .day.booked {
            background-color: rgba(240, 173, 78, 0.3);
            position: relative;
        }
        
        .calendar .day.booked::after {
            content: "";
            position: absolute;
            bottom: 2px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background-color: #fe7f2d;
        }
        
        .calendar .day.today {
            border: 2px solid #fe7f2d;
        }
        
        .calendar .day.other-month {
            opacity: 0.3;
        }
        
        /* Time slots */
        .time-slots {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        
        .time-slot {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .time-slot:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .time-slot.available {
            background-color: rgba(92, 184, 92, 0.3);
        }
        
        .time-slot.booked {
            background-color: rgba(240, 173, 78, 0.3);
        }
        
        /* Stats section */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
            color: #fe7f2d;
        }
        
        .stat-label {
            font-size: 1em;
            opacity: 0.8;
        }
        
        /* Reviews section */
        .reviews-container {
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 12px;
            padding: 20px;
        }
        
        .review-item {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .review-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .reviewer-name {
            font-weight: bold;
        }
        
        .review-rating {
            color: #fe7f2d;
        }
        
        .review-date {
            font-size: 0.9em;
            opacity: 0.7;
        }
        
        .review-comment {
            line-height: 1.5;
        }

        /* Button styles */
        .btn-primary, .btn-outline {
            display: inline-block;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: bold;
            text-decoration: none;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background-color: #fe7f2d;
            color: #000000;
            border: none;
        }

        .btn-primary:hover {
            background-color: #ff9045;
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(254, 127, 45, 0.4);
        }

        .btn-outline {
            background-color: transparent;
            color: #ffffff;
            border: 2px solid #ffffff;
        }

        .btn-outline:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-3px);
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 14px;
        }

        /* Subject tags */
        .subject-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        .subject-tag {
            background-color: rgba(254, 127, 45, 0.8);
            color: #000000;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 14px;
            display: flex;
            align-items: center;
        }
        
        .subject-tag .remove-tag {
            margin-left: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        /* Footer */
        footer {
            background-color: rgba(0, 0, 0, 0.8);
            padding: 20px;
            text-align: center;
            margin-top: 80px;
        }

        footer p {
            margin-bottom: 15px;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .footer-links a {
            color: #ffffff;
            text-decoration: none;
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }

        .footer-links a:hover {
            opacity: 1;
            color: #fe7f2d;
        }

        /* Responsive design */
        @media (max-width: 992px) {
            .form-row {
                flex-direction: column;
                gap: 10px;
            }
            
            .messages-container {
                flex-direction: column;
                height: auto;
            }
            
            .conversations-list {
                width: 100%;
                margin-bottom: 20px;
            }

            .stats-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            nav {
                padding: 0 20px;
            }
            
            nav ul li {
                margin: 0 5px;
            }
            
            nav ul li a {
                font-size: 14px;
                padding: 8px 12px;
            }
            
            .tab-btn {
                padding: 10px 15px;
                font-size: 14px;
            }
            
            .appointment-info {
                flex-direction: column;
            }
            
            .appointment-date {
                text-align: left;
                margin-top: 5px;
            }
        }

        @media (max-width: 576px) {
            .appointment-header,
            .appointment-actions {
                flex-direction: column;
                gap: 10px;
            }
            
            .appointment-status {
                align-self: flex-start;
                margin-top: 5px;
            }
            
            .btn-primary, .btn-outline {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">TutorConnect</div>
            <ul>
                <li><a href="../homepage/welcome.html">Home</a></li>
                <li><a href="./dashboard.html">Dashboard</a></li>
                <li><a href="./tutors.html" class="btn-secondary">Find Tutors</a></li>
                <li><a href="#" class="btn-secondary" id="logout-btn">Logout</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="dashboard-header">
            <h1>Welcome, <span id="tutor-name">Dr. Morgan</span>!</h1>
            <p class="subtitle">Manage your tutoring sessions, messages, and availability</p>
        </section>

        <section class="dashboard-tabs">
            <div class="tab-buttons">
                <button class="tab-btn active" data-tab="overview">Overview</button>
                <button class="tab-btn" data-tab="appointments">Appointments</button>
                <button class="tab-btn" data-tab="messages">Messages</button>
                <button class="tab-btn" data-tab="profile">Profile & Availability</button>
            </div>

            <div class="tab-content">
                <!-- Overview Tab -->
                <div class="tab-pane active" id="overview-tab">
                    <h2>Dashboard Overview</h2>
                    
                    <div class="stats-container">
                        <div class="stat-card">
                            <div class="stat-value">24</div>
                            <div class="stat-label">Total Sessions</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">4.8</div>
                            <div class="stat-label">Average Rating</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">18</div>
                            <div class="stat-label">Reviews</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">3</div>
                            <div class="stat-label">Upcoming Sessions</div>
                        </div>
                    </div>
                    
                    <div class="section-header">
                        <h3>Recent Reviews</h3>
                        <a href="#" class="btn-outline btn-sm">View All</a>
                    </div>
                    
                    <div class="reviews-container">
                        <div class="review-item">
                            <div class="review-header">
                                <span class="reviewer-name">Alex J.</span>
                                <span class="review-rating">5.0 ★</span>
                                <span class="review-date">March 15, 2025</span>
                            </div>
                            <p class="review-comment">Dr. Taylor made calculus make sense for the first time! Highly recommend.</p>
                        </div>
                        <div class="review-item">
                            <div class="review-header">
                                <span class="reviewer-name">Sam P.</span>
                                <span class="review-rating">5.0 ★</span>
                                <span class="review-date">February 22, 2025</span>
                            </div>
                            <p class="review-comment">Excellent at explaining complex topics. Very patient.</p>
                        </div>
                        <div class="review-item">
                            <div class="review-header">
                                <span class="reviewer-name">Jordan M.</span>
                                <span class="review-rating">4.0 ★</span>
                                <span class="review-date">January 10, 2025</span>
                            </div>
                            <p class="review-comment">Very knowledgeable and helpful. Would book again.</p>
                        </div>
                    </div>
                    
                    <div class="section-header" style="margin-top: 30px;">
                        <h3>Upcoming Appointments</h3>
                        <a href="#" class="btn-outline btn-sm" onclick="switchTab('appointments')">View All</a>
                    </div>
                    
                    <div id="upcoming-appointments">
                        <div class="appointment-card">
                            <div class="appointment-header">
                                <span class="appointment-subject">Mathematics</span>
                                <span class="appointment-status status-confirmed">confirmed</span>
                            </div>
                            <div class="appointment-info">
                                <div class="appointment-student">
                                    <strong>Student:</strong> Alex Johnson
                                </div>
                                <div class="appointment-date">
                                    <strong>Date:</strong> Apr 12, 2025, 2:00 PM
                                </div>
                            </div>
                            <div class="appointment-actions">
                                <button class="btn-outline btn-sm" onclick="cancelAppointment('appt1')">Cancel</button>
                                <button class="btn-primary btn-sm" onclick="messageStudent('student1')">Message</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Appointments Tab -->
                <div class="tab-pane" id="appointments-tab">
                    <div class="section-header">
                        <h2>My Appointments</h2>
                    </div>

                    <div class="appointments-filter">
                        <button class="filter-btn active" data-filter="upcoming">Upcoming</button>
                        <button class="filter-btn" data-filter="past">Past</button>
                        <button class="filter-btn" data-filter="pending">Pending</button>
                    </div>

                    <div id="appointments-list" class="appointments-list">
                        <!-- Appointments will be loaded here -->
                        <div class="appointment-card">
                            <div class="appointment-header">
                                <span class="appointment-subject">Mathematics</span>
                                <span class="appointment-status status-confirmed">confirmed</span>
                            </div>
                            <div class="appointment-info">
                                <div class="appointment-student">
                                    <strong>Student:</strong> Alex Johnson
                                </div>
                                <div class="appointment-date">
                                    <strong>Date:</strong> Apr 12, 2025, 2:00 PM
                                </div>
                            </div>
                            <div class="appointment-actions">
                                <button class="btn-outline btn-sm" onclick="cancelAppointment('appt1')">Cancel</button>
                                <button class="btn-primary btn-sm" onclick="messageStudent('student1')">Message</button>
                            </div>
                        </div>
                        
                        <div class="appointment-card">
                            <div class="appointment-header">
                                <span class="appointment-subject">Physics</span>
                                <span class="appointment-status status-pending">pending</span>
                            </div>
                            <div class="appointment-info">
                                <div class="appointment-student">
                                    <strong>Student:</strong> Jamie Smith
                                </div>
                                <div class="appointment-date">
                                    <strong>Date:</strong> Apr 18, 2025, 3:30 PM
                                </div>
                            </div>
                            <div class="appointment-actions">
                                <button class="btn-primary btn-sm" onclick="confirmAppointment('appt2')">Confirm</button>
                                <button class="btn-outline btn-sm" onclick="declineAppointment('appt2')">Decline</button>
                                <button class="btn-primary btn-sm" onclick="messageStudent('student2')">Message</button>
                            </div>
                        </div>
                        
                        <div class="appointment-card">
                            <div class="appointment-header">
                                <span class="appointment-subject">Chemistry</span>
                                <span class="appointment-status status-completed">completed</span>
                            </div>
                            <div class="appointment-info">
                                <div class="appointment-student">
                                    <strong>Student:</strong> Alex Johnson
                                </div>
                                <div class="appointment-date">
                                    <strong>Date:</strong> Apr 4, 2025, 10:00 AM
                                </div>
                            </div>
                            <div class="appointment-actions">
                                <button class="btn-primary btn-sm" onclick="messageStudent('student1')">Message</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Messages Tab -->
                <div class="tab-pane" id="messages-tab">
                    <h2>My Messages</h2>
                    <div class="messages-container">
                        <div class="conversations-list">
                            <div class="section-header">
                                <h3>Conversations</h3>
                            </div>
                            <div id="conversations" class="conversation-items">
                                <div class="conversation-item active" data-id="conv1">
                                    <div class="conversation-name">Alex Johnson</div>
                                    <div class="conversation-preview">Hi Alex, I would be happy to help you with calculus. When would you like to schedule a session?</div>
                                </div>
                                <div class="conversation-item" data-id="conv2">
                                    <div class="conversation-name">Jamie Smith</div>
                                    <div class="conversation-preview">I am struggling with quantum mechanics concepts.</div>
                                </div>
                            </div>
                        </div>
                        <div class="chat-container">
                            <div id="chat-messages" class="chat-messages">
                                <div class="message message-received">
                                    <div class="message-content">Hello, I need help with calculus.</div>
                                    <div class="message-info">
                                        Alex Johnson • Apr 4, 2025, 10:30 AM
                                    </div>
                                </div>
                                <div class="message message-sent">
                                    <div class="message-content">Hi Alex, I would be happy to help you with calculus. When would you like to schedule a session?</div>
                                    <div class="message-info">
                                        You • Apr 4, 2025, 11:45 AM
                                    </div>
                                </div>
                            </div>
                            <div class="chat-input">
                                <form id="message-form" class="message-form" data-conversation="conv1">
                                    <input type="text" id="message-input" class="message-input" placeholder="Type your message..." required>
                                    <button type="submit" class="btn-primary">Send</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Profile & Availability Tab -->
                <div class="tab-pane" id="profile-tab">
                    <h2>Profile & Availability</h2>
                    
                    <div class="profile-form">
                        <h3>My Profile</h3>
                        <form id="profile-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="name">Full Name</label>
                                    <input type="text" id="profile-name" name="name" value="Dr. Morgan Taylor" required>
                                </div>
                                <div class="form-group">
                                    <label for="email">Email</label>
                                    <input type="email" id="profile-email" name="email" value="morgan@example.com" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="school">School</label>
                                    <input type="text" id="profile-school" name="school" value="State University" required>
                                </div>
                                <div class="form-group">
                                    <label for="hourly-rate">Hourly Rate ($)</label>
                                    <input type="number" id="hourly-rate" name="hourly-rate" value="50" min="10" step="5" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="bio">About Me</label>
                                <textarea id="bio" name="bio" rows="5">I'm a Mathematics professor with 10 years of experience. I specialize in calculus, linear algebra, and statistics. My teaching philosophy focuses on building intuition rather than memorization.</textarea>
                            </div>
                            <div class="form-group">
                                <label>Subjects</label>
                                <div class="subject-tags">
                                    <div class="subject-tag">
                                        Mathematics
                                        <span class="remove-tag" data-subject="Mathematics">×</span>
                                    </div>
                                    <div class="subject-tag">
                                        Calculus
                                        <span class="remove-tag" data-subject="Calculus">×</span>
                                    </div>
                                    <div class="subject-tag">
                                        Linear Algebra
                                        <span class="remove-tag" data-subject="Linear Algebra">×</span>
                                    </div>
                                    <div class="subject-tag">
                                        Statistics
                                        <span class="remove-tag" data-subject="Statistics">×</span>
                                    </div>
                                </div>
                                <input type="text" id="new-subject" placeholder="Add new subject and press Enter" style="margin-top: 10px;">
                            </div>
                            <div class="form-group">
                                <label for="password">New Password (leave blank to keep current)</label>
                                <input type="password" id="profile-password" name="password">
                            </div>
                            <button type="submit" class="btn-primary save-button">Save Changes</button>
                        </form>
                    </div>
                    
                    <div class="availability-container">
                        <div class="availability-header">
                            <h3>My Availability</h3>
                            <div class="calendar-controls">
                                <button class="calendar-nav" id="prev-month">&lt;</button>
                                <span class="calendar-month">April 2025</span>
                                <button class="calendar-nav" id="next-month">&gt;</button>
                            </div>
                        </div>
                        
                        <table class="calendar">
                            <thead>
                                <tr>
                                    <th>Sun</th>
                                    <th>Mon</th>
                                    <th>Tue</th>
                                    <th>Wed</th>
                                    <th>Thu</th>
                                    <th>Fri</th>
                                    <th>Sat</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><div class="day other-month">30</div></td>
                                    <td><div class="day other-month">31</div></td>
                                    <td><div class="day">1</div></td>
                                    <td><div class="day">2</div></td>
                                    <td><div class="day">3</div></td>
                                    <td><div class="day booked">4</div></td>
                                    <td><div class="day available">5</div></td>
                                </tr>
                                <tr>
                                    <td><div class="day available">6</div></td>
                                    <td><div class="day available">7</div></td>
                                    <td><div class="day available">8</div></td>
                                    <td><div class="day available">9</div></td>
                                    <td><div class="day available">10</div></td>
                                    <td><div class="day available">11</div></td>
                                    <td><div class="day booked">12</div></td>
                                </tr>
                                <tr>
                                    <td><div class="day available">13</div></td>
                                    <td><div class="day available">14</div></td>
                                    <td><div class="day available">15</div></td>
                                    <td><div class="day available">16</div></td>
                                    <td><div class="day available">17</div></td>
                                    <td><div class="day booked">18</div></td>
                                    <td><div class="day available">19</div></td>
                                </tr>
                                <tr>
                                    <td><div class="day available">20</div></td>
                                    <td><div class="day today available">21</div></td>
                                    <td><div class="day available">22</div></td>
                                    <td><div class="day available">23</div></td>
                                    <td><div class="day available">24</div></td>
                                    <td><div class="day available">25</div></td>
                                    <td><div class="day available">26</div></td>
                                </tr>
                                <tr>
                                    <td><div class="day available">27</div></td>
                                    <td><div class="day available">28</div></td>
                                    <td><div class="day available">29</div></td>
                                    <td><div class="day available">30</div></td>
                                    <td><div class="day other-month">1</div></td>
                                    <td><div class="day other-month">2</div></td>
                                    <td><div class="day other-month">3</div></td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div id="selected-day" style="margin-top: 20px;">
                            <h4>Time Slots for April 21, 2025</h4>
                            <div class="time-slots">
                                <div class="time-slot available">9:00 AM</div>
                                <div class="time-slot available">10:00 AM</div>
                                <div class="time-slot available">11:00 AM</div>
                                <div class="time-slot">12:00 PM</div>
                                <div class="time-slot">1:00 PM</div>
                                <div class="time-slot available">2:00 PM</div>
                                <div class="time-slot available">3:00 PM</div>
                                <div class="time-slot available">4:00 PM</div>
                                <div class="time-slot">5:00 PM</div>
                            </div>
                            <button class="btn-primary" style="margin-top: 20px;">Save Availability</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>Created by: Johnathon Nelson, Daniel Vaca, Dylan Dao</p>
        <div class="footer-links">
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Service</a>
            <a href="#">Contact Us</a>
        </div>
    </footer>

    <script>
        // Mock data for current tutor
        const currentTutor = {
            _id: "tutor1",
            name: "Dr. Morgan Taylor",
            email: "morgan@example.com",
            school: "State University",
            bio: "I'm a Mathematics professor with 10 years of experience. I specialize in calculus, linear algebra, and statistics. My teaching philosophy focuses on building intuition rather than memorization.",
            hourlyRate: 50,
            subjects: ["Mathematics", "Calculus", "Linear Algebra", "Statistics"],
            stats: {
                totalSessions: 24,
                avgRating: 4.8,
                totalReviews: 18,
                upcomingSessions: 3
            }
        };

        // Mock appointments data
        const appointments = [
            {
                _id: "appt1",
                subject: "Mathematics",
                status: "confirmed",
                startTime: new Date(Date.now() + 86400000), // tomorrow
                student: {
                    _id: "student1",
                    name: "Alex Johnson"
                }
            },
            {
                _id: "appt2",
                subject: "Physics",
                status: "pending",
                startTime: new Date(Date.now() + 604800000), // next week
                student: {
                    _id: "student2",
                    name: "Jamie Smith"
                }
            },
            {
                _id: "appt3",
                subject: "Chemistry",
                status: "completed",
                startTime: new Date(Date.now() - 604800000), // last week
                student: {
                    _id: "student1",
                    name: "Alex Johnson"
                }
            }
        ];

        // Mock conversations data
        const conversations = [
            {
                _id: "conv1",
                participants: [
                    {
                        _id: "student1",
                        name: "Alex Johnson"
                    }
                ],
                lastMessage: "Hi Alex, I would be happy to help you with calculus. When would you like to schedule a session?",
                updatedAt: new Date(Date.now() - 86400000)
            },
            {
                _id: "conv2",
                participants: [
                    {
                        _id: "student2",
                        name: "Jamie Smith"
                    }
                ],
                lastMessage: "I am struggling with quantum mechanics concepts.",
                updatedAt: new Date(Date.now() - 172800000)
            }
        ];

        // Mock messages data
        const messages = {
            "conv1": [
                {
                    _id: "msg1",
                    sender: {
                        _id: "student1",
                        name: "Alex Johnson"
                    },
                    messageText: "Hello, I need help with calculus.",
                    createdAt: new Date(Date.now() - 90000000)
                },
                {
                    _id: "msg2",
                    sender: {
                        _id: "tutor1",
                        name: "Dr. Morgan Taylor"
                    },
                    messageText: "Hi Alex, I would be happy to help you with calculus. When would you like to schedule a session?",
                    createdAt: new Date(Date.now() - 86400000)
                }
            ],
            "conv2": [
                {
                    _id: "msg3",
                    sender: {
                        _id: "student2",
                        name: "Jamie Smith"
                    },
                    messageText: "I am struggling with quantum mechanics concepts.",
                    createdAt: new Date(Date.now() - 180000000)
                }
            ]
        };

        // Tab switching function
        function switchTab(tabName) {
            // Update active tab button
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-tab') === tabName) {
                    btn.classList.add('active');
                }
            });
            
            // Update active tab pane
            document.querySelectorAll('.tab-pane').forEach(pane => {
                pane.classList.remove('active');
            });
            document.getElementById(`${tabName}-tab`).classList.add('active');
        }

        // Format date
        function formatDate(date) {
            return new Date(date).toLocaleDateString('en-US', { 
                month: 'short', 
                day: 'numeric', 
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        // Load appointments based on filter
        function loadAppointments(filter = 'upcoming') {
            const appointmentsList = document.getElementById('appointments-list');
            let filteredAppointments = [];
            
            const now = new Date();
            
            switch(filter) {
                case 'upcoming':
                    filteredAppointments = appointments.filter(a => 
                        new Date(a.startTime) > now && 
                        (a.status === 'confirmed' || a.status === 'pending')
                    );
                    break;
                case 'past':
                    filteredAppointments = appointments.filter(a => 
                        new Date(a.startTime) < now || 
                        a.status === 'completed' || 
                        a.status === 'canceled'
                    );
                    break;
                case 'pending':
                    filteredAppointments = appointments.filter(a => a.status === 'pending');
                    break;
                default:
                    filteredAppointments = appointments;
            }
            
            if (filteredAppointments.length === 0) {
                appointmentsList.innerHTML = '<p>No appointments found.</p>';
                return;
            }
            
            const appointmentsHTML = filteredAppointments.map(appointment => {
                const date = formatDate(appointment.startTime);
                
                let actionsHTML = '';
                if (appointment.status === 'confirmed') {
                    actionsHTML = `
                        <button class="btn-outline btn-sm" onclick="cancelAppointment('${appointment._id}')">Cancel</button>
                        <button class="btn-primary btn-sm" onclick="messageStudent('${appointment.student._id}')">Message</button>
                    `;
                } else if (appointment.status === 'pending') {
                    actionsHTML = `
                        <button class="btn-primary btn-sm" onclick="confirmAppointment('${appointment._id}')">Confirm</button>
                        <button class="btn-outline btn-sm" onclick="declineAppointment('${appointment._id}')">Decline</button>
                        <button class="btn-primary btn-sm" onclick="messageStudent('${appointment.student._id}')">Message</button>
                    `;
                } else if (appointment.status === 'completed') {
                    actionsHTML = `
                        <button class="btn-primary btn-sm" onclick="messageStudent('${appointment.student._id}')">Message</button>
                    `;
                }
                
                return `
                    <div class="appointment-card">
                        <div class="appointment-header">
                            <span class="appointment-subject">${appointment.subject}</span>
                            <span class="appointment-status status-${appointment.status}">${appointment.status}</span>
                        </div>
                        <div class="appointment-info">
                            <div class="appointment-student">
                                <strong>Student:</strong> ${appointment.student.name}
                            </div>
                            <div class="appointment-date">
                                <strong>Date:</strong> ${date}
                            </div>
                        </div>
                        <div class="appointment-actions">
                            ${actionsHTML}
                        </div>
                    </div>
                `;
            }).join('');
            
            appointmentsList.innerHTML = appointmentsHTML;
        }

        // Load messages for a conversation
        function loadMessages(conversationId) {
            const chatMessagesContainer = document.getElementById('chat-messages');
            const conversationMessages = messages[conversationId] || [];
            
            if (conversationMessages.length === 0) {
                chatMessagesContainer.innerHTML = '<p>No messages found.</p>';
                return;
            }
            
            const messagesHTML = conversationMessages.map(message => {
                const isCurrentUser = message.sender._id === currentTutor._id;
                const messageClass = isCurrentUser ? 'message-sent' : 'message-received';
                const date = formatDate(message.createdAt);
                
                return `
                    <div class="message ${messageClass}">
                        <div class="message-content">${message.messageText}</div>
                        <div class="message-info">
                            ${isCurrentUser ? 'You' : message.sender.name} • ${date}
                        </div>
                    </div>
                `;
            }).join('');
            
            chatMessagesContainer.innerHTML = messagesHTML;
            
            // Scroll to bottom
            chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;
            
            // Store active conversation ID
            document.getElementById('message-form').setAttribute('data-conversation', conversationId);
        }

        // Simulate sending a message
        function sendMessage(conversationId, messageText) {
            const newMessage = {
                _id: `msg${Date.now()}`,
                sender: {
                    _id: currentTutor._id,
                    name: currentTutor.name
                },
                messageText: messageText,
                createdAt: new Date()
            };
            
            // Add to messages
            if (!messages[conversationId]) {
                messages[conversationId] = [];
            }
            messages[conversationId].push(newMessage);
            
            // Update last message in conversation
            const conversation = conversations.find(c => c._id === conversationId);
            if (conversation) {
                conversation.lastMessage = messageText;
                conversation.updatedAt = new Date();
            }
            
            // Reload messages
            loadMessages(conversationId);
        }

        // Handle appointment actions
        function confirmAppointment(appointmentId) {
            // In a real app, you would send this to the server
            alert(`Appointment ${appointmentId} confirmed!`);
            
            // Update the UI
            const element = document.querySelector(`.appointment-card button[onclick="confirmAppointment('${appointmentId}')"]`).closest('.appointment-card');
            const statusElement = element.querySelector('.appointment-status');
            
            statusElement.className = 'appointment-status status-confirmed';
            statusElement.textContent = 'confirmed';
            
            // Update actions
            const actionsElement = element.querySelector('.appointment-actions');
            const appointment = appointments.find(a => a._id === appointmentId);
            
            actionsElement.innerHTML = `
                <button class="btn-outline btn-sm" onclick="cancelAppointment('${appointmentId}')">Cancel</button>
                <button class="btn-primary btn-sm" onclick="messageStudent('${appointment.student._id}')">Message</button>
            `;
            
            // Update data
            appointment.status = 'confirmed';
        }
        
        function declineAppointment(appointmentId) {
            if (confirm('Are you sure you want to decline this appointment?')) {
                // In a real app, you would send this to the server
                alert(`Appointment ${appointmentId} declined.`);
                
                // Update the UI
                const element = document.querySelector(`.appointment-card button[onclick="declineAppointment('${appointmentId}')"]`).closest('.appointment-card');
                element.remove();
                
                // Update data
                const index = appointments.findIndex(a => a._id === appointmentId);
                if (index !== -1) {
                    appointments.splice(index, 1);
                }
            }
        }
        
        function cancelAppointment(appointmentId) {
            if (confirm('Are you sure you want to cancel this appointment?')) {
                // In a real app, you would send this to the server
                alert(`Appointment ${appointmentId} canceled.`);
                
                // Update the UI
                const element = document.querySelector(`.appointment-card button[onclick="cancelAppointment('${appointmentId}')"]`).closest('.appointment-card');
                const statusElement = element.querySelector('.appointment-status');
                
                statusElement.className = 'appointment-status status-canceled';
                statusElement.textContent = 'canceled';
                
                // Update actions
                const actionsElement = element.querySelector('.appointment-actions');
                const appointment = appointments.find(a => a._id === appointmentId);
                
                actionsElement.innerHTML = `
                    <button class="btn-primary btn-sm" onclick="messageStudent('${appointment.student._id}')">Message</button>
                `;
                
                // Update data
                appointment.status = 'canceled';
            }
        }
        
        function messageStudent(studentId) {
            // Switch to messages tab
            switchTab('messages');
            
            // Find conversation with this student
            const conversation = conversations.find(c => 
                c.participants.some(p => p._id === studentId)
            );
            
            if (conversation) {
                // Select conversation
                document.querySelectorAll('.conversation-item').forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('data-id') === conversation._id) {
                        item.classList.add('active');
                    }
                });
                
                // Load messages
                loadMessages(conversation._id);
            } else {
                alert('Conversation not found. This is a demo.');
            }
        }

        // Load initial data
        function loadUserData() {
            document.getElementById('tutor-name').textContent = currentTutor.name;
            
            // Load profile data
            document.getElementById('profile-name').value = currentTutor.name;
            document.getElementById('profile-email').value = currentTutor.email;
            document.getElementById('profile-school').value = currentTutor.school;
            document.getElementById('hourly-rate').value = currentTutor.hourlyRate;
            document.getElementById('bio').value = currentTutor.bio;
        }

        // Set up event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Load initial data
            loadUserData();
            loadAppointments('upcoming');
            loadMessages('conv1'); // Load first conversation
            
            // Tab switching
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    switchTab(tabName);
                });
            });
            
            // Appointment filters
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => {
                        b.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    const filter = this.getAttribute('data-filter');
                    loadAppointments(filter);
                });
            });
            
            // Conversation items
            document.querySelectorAll('.conversation-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.conversation-item').forEach(i => {
                        i.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    const conversationId = this.getAttribute('data-id');
                    loadMessages(conversationId);
                });
            });
            
            // Message form
            document.getElementById('message-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const conversationId = this.getAttribute('data-conversation');
                const messageInput = document.getElementById('message-input');
                const messageText = messageInput.value.trim();
                
                if (messageText && conversationId) {
                    sendMessage(conversationId, messageText);
                    messageInput.value = '';
                }
            });
            
            // Profile form
            document.getElementById('profile-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = document.getElementById('profile-name').value.trim();
                const email = document.getElementById('profile-email').value.trim();
                const school = document.getElementById('profile-school').value.trim();
                const hourlyRate = document.getElementById('hourly-rate').value;
                const bio = document.getElementById('bio').value.trim();
                const password = document.getElementById('profile-password').value.trim();
                
                // Update tutor data
                currentTutor.name = name;
                currentTutor.email = email;
                currentTutor.school = school;
                currentTutor.hourlyRate = hourlyRate;
                currentTutor.bio = bio;
                
                // Update display
                document.getElementById('tutor-name').textContent = name;
                
                alert('Profile updated successfully!');
            });
            
            // Add new subject
            const newSubjectInput = document.getElementById('new-subject');
            newSubjectInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    
                    const subject = this.value.trim();
                    if (subject && !currentTutor.subjects.includes(subject)) {
                        const subjectTags = document.querySelector('.subject-tags');
                        
                        const tagHTML = `
                            <div class="subject-tag">
                                ${subject}
                                <span class="remove-tag" data-subject="${subject}">×</span>
                            </div>
                        `;
                        
                        subjectTags.innerHTML += tagHTML;
                        
                        // Add to subjects array
                        currentTutor.subjects.push(subject);
                        
                        // Add event listener to new remove button
                        const newTag = subjectTags.lastElementChild;
                        newTag.querySelector('.remove-tag').addEventListener('click', function() {
                            const subject = this.getAttribute('data-subject');
                            const index = currentTutor.subjects.indexOf(subject);
                            if (index !== -1) {
                                currentTutor.subjects.splice(index, 1);
                            }
                            this.parentElement.remove();
                        });
                        
                        this.value = '';
                    }
                }
            });
            
            // Remove subject tags
            document.querySelectorAll('.remove-tag').forEach(btn => {
                btn.addEventListener('click', function() {
                    const subject = this.getAttribute('data-subject');
                    const index = currentTutor.subjects.indexOf(subject);
                    if (index !== -1) {
                        currentTutor.subjects.splice(index, 1);
                    }
                    this.parentElement.remove();
                });
            });
            
            // Calendar day selection
            document.querySelectorAll('.day').forEach(day => {
                day.addEventListener('click', function() {
                    if (!this.classList.contains('other-month')) {
                        document.querySelectorAll('.day').forEach(d => {
                            d.classList.remove('selected');
                        });
                        
                        this.classList.add('selected');
                        
                        // Update selected day heading
                        const date = this.textContent.trim();
                        document.querySelector('#selected-day h4').textContent = `Time Slots for April ${date}, 2025`;
                    }
                });
            });
            
            // Time slot selection
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.addEventListener('click', function() {
                    this.classList.toggle('available');
                });
            });
            
            // Month navigation
            document.getElementById('prev-month').addEventListener('click', function() {
                // In a real app, you would navigate to the previous month
                alert('In a real app, this would show the previous month.');
            });
            
            document.getElementById('next-month').addEventListener('click', function() {
                // In a real app, you would navigate to the next month
                alert('In a real app, this would show the next month.');
            });
            
            // Logout button
            document.getElementById('logout-btn').addEventListener('click', function() {
                if (confirm('Are you sure you want to log out?')) {
                    // In a real app, you would clear the session/token
                    alert('You have been logged out.');
                    window.location.href = '../homepage/welcome.html';
                }
            });
        });
    </script>
</body>
</html>